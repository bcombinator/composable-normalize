(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):factory(global.composableNormalize=global.composableNormalize||{})})(this,function(exports){"use strict";var decode=decodeURIComponent;var _compose=function(f,g){return function(){var args=[],len=arguments.length;while(len--)args[len]=arguments[len];return f(g.apply(void 0,args))}};var compose=function(){var fns=[],len=arguments.length;while(len--)fns[len]=arguments[len];return fns.reduce(_compose)};var replace=function(pattern,substr){return function(str){return str.replace(pattern,substr)}};var toLower=function(str){return str.toLowerCase()};var append=function(a){return function(b){return b.concat(a)}};var dedupeSlashes=/([^:]\/)\/+/g;var dedupeDots=/\/\.+/g;var defaultPorts=/(:80|:443)/;var normalize=compose(replace(dedupeSlashes,"$1"),replace(dedupeDots,"/"),replace(defaultPorts,""),toLower,append("/"),decode);exports.normalize=normalize;exports.compose=compose;Object.defineProperty(exports,"__esModule",{value:true})});